$NetBSD$

--- tshark.c.orig	2010-11-18 21:31:20.000000000 +0000
+++ tshark.c
@@ -1953,7 +1953,10 @@ capture(void)
      or will exit abnormally, so  we'll stop reading from the sync
      pipe, pick up the exit status, and quit. */
   action.sa_handler = capture_cleanup;
-  action.sa_flags = SA_RESTART;
+  action.sa_flags = 0;
+#ifdef SA_RESTART
+  action.sa_flags |= SA_RESTART;
+#endif
   sigemptyset(&action.sa_mask);
   sigaction(SIGTERM, &action, NULL);
   sigaction(SIGINT, &action, NULL);
