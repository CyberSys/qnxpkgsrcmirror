$NetBSD$

--- src/xcb_conn.c.orig	2010-08-13 11:43:31.000000000 +0000
+++ src/xcb_conn.c
@@ -325,8 +325,12 @@ int _xcb_conn_wait(xcb_connection_t *c, 
     if(ret)
     {
 #if USE_POLL
+#ifndef __QNXNTO__
         if((fd.revents & POLLIN) == POLLIN)
 #else
+        if((fd.revents & POLLIN) != 0)
+#endif
+#else
         if(FD_ISSET(c->fd, &rfds))
 #endif
             ret = ret && _xcb_in_read(c);
